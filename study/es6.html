<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ES6 실습</title>
  </head>
  <body>
    <input type="button" value="버튼" onclick="carTypesArrows('aaa')" />
  </body>
</html>

<script>
  function clickButton() {
    /* let : 코드 블록을 지역 스코프로 지정 */
    let number = 1;

    if (true) {
      let number = 5;
    }

    console.log(number);
    console.log(name); // Uncaught ReferenceError: Cannot access 'name' before initialization at clickButton

    const name = "박지현";

    console.log("string text line 1\n" + "string text line 2"); // ES5
    console.log(`string text line 1
        string text line 2`); // ES6

    var a = 5;
    var b = 10;

    console.log(`Fifteen is ${a + b} and not ${2 * a + b}`); // ES6
  }

  clickButtonArrows = () => {
    console.log("click button method 호출");
  };

  var sales = "Toyota";

  function carTypes(name) {
    console.log("carTypes 함수 실행");

    if (name == "Honda") {
      return name;
    } else {
      console.log("해당 자동차는 판매하지 않습니다.");
    }

    var car = {
      myCar: "Saturn",
      getCar: carTypes("Honda"),
      special: sales,
    };

    console.log("myCar : " + car.myCar);
    console.log("getcar : " + car.getCar);
    console.log("getcar : " + car.special);
  }

  carTypesArrows = (name) => {
    console.log("carTypes Arrows Method :" + name);
  };

  /* Arrows 함수 */
  arrowMethod = () => {
    console.log("Arrows 함수 테스트");
  };

  /* Map */
  let me = new Map();
  me.set("name", "박지현");
  me.set("age", 100);
  console.log(`이름 : ${me.get("name")}`);

  /* Filter */
  // var arr = [4, 15, 377, 395, 400, 1024, 3000];
  // var arr2 = arr.filter(v => (v % 5 === 0));​
  // console.log(arr2) // [15, 395, 400, 3000]

  /* for/of 반복문 */

  /* Array 반복 */
  let iterable1 = [10, 20, 30];

  for (let value of iterable1) {
    console.log("value : " + value);
  }

  /* Map 반복 */
  let iterable2 = new Map([
    ["a", 1],
    ["b", 2],
  ]);

  for (let entry of iterable2) {
    console.log("entry 반복 : " + entry);
  }

  /* forin - key로만 접근 가능 */

  const myPromise = new Promise(function (resolve, reject) {
    // ajax 흉내내기 위해 setTimeout으로 구현
    setTimeout(function () {
      resolve("Promise Success !");
    }, 3000);
  });

  myPromise.then(function (value) {
    console.log(value);
  });

  let promise = new Promise((resolve, reject) => {
    // 최초 비동기 처리 코드
    setTimeout(() => {
      let num = parseInt(prompt("10 이하의 숫자를 입력하시오."));
      if (num <= num) {
        resolve(num);
      } else {
        reject(`오류 : 숫자 ${num}은 10을 초과하였습니다.`);
      }
    }, 1000);
  });

  promise.then(
    (num) => {
      console.log(`정답 : 숫자 ${num}은 10 이하입니다.`);
    },
    (error) => {
      console.log(`정답 : 숫자 ${num}은 10 이하입니다.`);
    }
  );

  const numbers = [5, 12, 8, 130, 44];
  let output = numbers.find(myFunction);
  output = numbers.findIndex(myFunction);

  myFunction = (value) => {
    return value > 10;
  };
  console.log(output);

  /* isNan */
  typeOfNan = (x) => {
    if (Number.isNaN(x)) {
      return "Number NaN";
    }
  };

  const fruits = ["Banana", "Apple"];
  const f = fruits.entries();

  for (let x of f) {
    console.log(x[0], x[1]);
  }
</script>
